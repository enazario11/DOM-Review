axis.line.colour = "gray60",
gridline.min.colour = "gray60",
gridline.mid.colour = "gray60",
gridline.max.colour = "gray60",
group.colours = c("#F29325", "#007172"),
legend.position = "bottom",
fill = TRUE,
axis.label.size = 3)
#ggsave("figures/ms_figs/industry/radar_br_survey.png", height = 8, width = 8, units = c("in"))
ggsave("figures/slides_svg/radar_br.svg", height = 8, width = 8, units = c("in"))
ggradar::ggradar(top_barrier,
values.radar = c(0, 1, 3),
background.circle.colour = "white",
axis.line.colour = "gray60",
gridline.min.colour = "gray60",
gridline.mid.colour = "gray60",
gridline.max.colour = "gray60",
group.colours = c("#F29325", "#007172"),
legend.position = "none",
fill = TRUE,
axis.label.size = 3)
#ggsave("figures/ms_figs/industry/radar_ba_survey.png", height = 8, width = 8, units = c("in"))
ggsave("figures/slides_svg/radar_ba.svg", height = 8, width = 8, units = c("in"))
ggradar::ggradar(top_bridge,
values.radar = c(0, 2, 4),
background.circle.colour = "white",
axis.line.colour = "gray60",
gridline.min.colour = "gray60",
gridline.mid.colour = "gray60",
gridline.max.colour = "gray60",
group.colours = c("#F29325", "lightskyblue1"),#007172
legend.position = "bottom",
fill = TRUE,
axis.label.size = 3)
#ggsave("figures/ms_figs/industry/radar_br_survey.png", height = 8, width = 8, units = c("in"))
ggsave("figures/slides_svg/radar_br.svg", height = 8, width = 8, units = c("in"))
ggradar::ggradar(top_barrier,
values.radar = c(0, 1, 3),
background.circle.colour = "white",
axis.line.colour = "gray60",
gridline.min.colour = "gray60",
gridline.mid.colour = "gray60",
gridline.max.colour = "gray60",
group.colours = c("#F29325", "lightskyblue1"),#007172
legend.position = "none",
fill = TRUE,
axis.label.size = 3)
#ggsave("figures/ms_figs/industry/radar_ba_survey.png", height = 8, width = 8, units = c("in"))
ggsave("figures/slides_svg/radar_ba.svg", height = 8, width = 8, units = c("in"))
code_vars %>%
select(c(1, 27:29, 33:60)) %>%
janitor::clean_names() %>%
pivot_longer(2:4, names_to = "test", values_to = "fish_ship") %>%
select(-c(test))
code_vars %>%
select(c(1, 27:29, 33:60)) %>%
janitor::clean_names() %>%
pivot_longer(2:4, names_to = "test", values_to = "fish_ship") %>%
select(-c(test)) %>%
pivot_longer(2:29, names_to = "sub_theme", values_to = "total") %>%
group_by(fish_ship, sub_theme) %>%
summarise(total = sum(total),
.groups = "drop") %>%
filter(fish_ship == "Bycatch" | fish_ship == "Ship strikes" | fish_ship == "Overfishing" | fish_ship == "Entanglement" | fish_ship == "Avoid fisheries discharge")
#format data
freq_job_lit <- code_vars %>%
select(c(1, 27:29, 33:60)) %>%
janitor::clean_names() %>%
pivot_longer(2:4, names_to = "test", values_to = "fish_ship") %>%
select(-c(test)) %>%
pivot_longer(2:29, names_to = "sub_theme", values_to = "total") %>%
group_by(fish_ship, sub_theme) %>%
summarise(total = sum(total),
.groups = "drop") %>%
filter(fish_ship == "Bycatch" | fish_ship == "Ship strikes" | fish_ship == "Overfishing" | fish_ship == "Entanglement" | fish_ship == "Avoid fisheries discharge")
lib_job_lit <- code_freq %>%
mutate(id = paste(bridge_barr, code_cat, code_name, sep = "_")) %>%
select(id)
freq_job_lit$id <- NA
for(i in 1:nrow(freq_job_lit)){
curr_code = freq_job_lit$sub_theme[i]
curr_id = lib_job_lit$id[agrepl(curr_code, lib_job_lit$id, 10)] #6 refers to the number of characters that can be diff
freq_job_lit$id[i] <- curr_id
}
freq_job_lit$id[freq_job_lit$sub_theme == "abiotic_data_availability"] <- "Bridge_Data bridge_Abiotic data availability"
freq_job_lit$id[freq_job_lit$sub_theme == "abiotic_indicators_of_target_species_presence"] <-
"Bridge_Ecological bridge_Abiotic indicators of target species presence"
freq_job_lit$id[freq_job_lit$sub_theme == "cost"] <-
"Barrier_Social barrier_Cost"
freq_job_lit$id[freq_job_lit$sub_theme == "discontinuity"] <-
"Barrier_Social barrier_Discontinuity"
freq_job_lit$id[freq_job_lit$sub_theme == "feasibility"] <-
"Bridge_Social bridge_Feasibility"
freq_job_lit$id[freq_job_lit$sub_theme == "model_abuse"] <-
"Barrier_Data barrier_Model abuse"
freq_job_lit$id[freq_job_lit$sub_theme == "resource_availability"] <-
"Bridge_Social bridge_Resource availability"
freq_job_lit <- freq_job_lit %>%
separate_wider_delim(id, delim = "_", names = c("bridge_barr", "code_cat", "code_name"))
freq_job_lit$bridge_barr <- factor(freq_job_lit$bridge_barr, levels = c("Bridge", "Barrier"))
freq_job_lit <- freq_job_lit %>%
mutate(fish_ship = ifelse(fish_ship == "Ship strikes", "Shipping", "Fishing"))
#radar plots
freq_job_lit3 <- freq_job_lit %>%
group_by(fish_ship, bridge_barr) %>%
mutate(n_total = sum(total)) %>%
ungroup() %>%
group_by(fish_ship, bridge_barr, code_name) %>%
mutate(n_subtotal = sum(total)) %>%
reframe(value = (n_subtotal/n_total)*100) %>%
ungroup() %>%
mutate(id = paste(fish_ship, bridge_barr, code_name)) %>%
distinct(id, .keep_all = TRUE) %>%
select(-c(id))
#radar plots
freq_job_lit3 <- freq_job_lit %>%
# group_by(fish_ship, bridge_barr) %>%
# mutate(n_total = sum(total)) %>%
# ungroup() %>%
# group_by(fish_ship, bridge_barr, code_name) %>%
# mutate(n_subtotal = sum(total)) %>%
# reframe(value = (n_subtotal/n_total)*100) %>%
# ungroup() %>%
mutate(id = paste(fish_ship, bridge_barr, code_name)) %>%
distinct(id, .keep_all = TRUE) %>%
select(-c(id)) %>%
group_by(fish_ship, bridge_barr, code_name) %>%
summarise(value = sum(total))
head(freq_job_lit3)
top_lit <- freq_job_lit3 %>%
group_by(fish_ship, bridge_barr) %>%
arrange(desc(value)) %>%
top_n(3) %>%
ungroup() %>%
select(code_name)
top_bridge <- freq_job_lit3 %>%
subset(code_name %in% top_lit$code_name) %>%
filter(bridge_barr == "Bridge") %>%
pivot_wider(names_from = code_name, values_from = value) %>%
select(-bridge_barr) %>%
mutate_all(~replace_na(., 0))
top_bridge <- freq_job_lit3 %>%
subset(code_name %in% top_lit$code_name) %>%
filter(bridge_barr == "Bridge") %>%
pivot_wider(names_from = code_name, values_from = value) %>%
ungroup() %>%
select(-bridge_barr) %>%
mutate_all(~replace_na(., 0))
top_barrier <- freq_job_lit3 %>%
subset(code_name %in% top_lit$code_name) %>%
filter(bridge_barr == "Barrier") %>%
pivot_wider(names_from = code_name, values_from = value) %>%
ungroup() %>%
select(-bridge_barr) %>%
mutate_all(~replace_na(., 0))
View(top_bridge)
ggradar::ggradar(top_bridge,
values.radar = c(0, 15, 30),
background.circle.colour = "white",
axis.line.colour = "gray60",
gridline.min.colour = "gray60",
gridline.mid.colour = "gray60",
gridline.max.colour = "gray60",
group.colours = c("#F29325", "#007172"),
legend.position = "bottom",
fill = TRUE,
axis.label.size = 3)
View(top_barrier)
ggradar::ggradar(top_barrier,
values.radar = c(0, 15, 30),
background.circle.colour = "white",
axis.line.colour = "gray60",
gridline.min.colour = "gray60",
gridline.mid.colour = "gray60",
gridline.max.colour = "gray60",
group.colours = c("#F29325", "#007172"),
legend.position = "none",
fill = TRUE,
axis.label.size = 3)
ggradar::ggradar(top_bridge,
values.radar = c(0, 15, 30),
background.circle.colour = "white",
axis.line.colour = "gray60",
gridline.min.colour = "gray60",
gridline.mid.colour = "gray60",
gridline.max.colour = "gray60",
group.colours = c("#F29325", "#007172"),
legend.position = "bottom",
fill = TRUE,
axis.label.size = 3)
ggsave("figures/ms_figs/industry/radar_br_lit.png", height = 8, width = 8, units = c("in"))
ggradar::ggradar(top_barrier,
values.radar = c(0, 15, 30),
background.circle.colour = "white",
axis.line.colour = "gray60",
gridline.min.colour = "gray60",
gridline.mid.colour = "gray60",
gridline.max.colour = "gray60",
group.colours = c("#F29325", "#007172"),
legend.position = "none",
fill = TRUE,
axis.label.size = 3)
ggsave("figures/ms_figs/industry/radar_ba_lit.png", height = 8, width = 8, units = c("in"))
View(top_barrier)
#radar plots
freq_job_survey3 <- freq_job_survey %>%
# group_by(fish_ship, bridge_barr) %>%
# mutate(n_total = sum(total)) %>%
# ungroup() %>%
# group_by(fish_ship, bridge_barr, code_name) %>%
# mutate(n_subtotal = sum(total)) %>%
# reframe(value = (n_subtotal/n_total)*100) %>%
# ungroup() %>%
mutate(id = paste(fish_ship, bridge_barr, code_name)) %>%
distinct(id, .keep_all = TRUE) %>%
select(-c(id)) %>%
group_by(fish_ship, bridge_barr, code_name) %>%
summarise(value = sum(total))
top_survey <- freq_job_survey3 %>%
group_by(fish_ship, bridge_barr) %>%
arrange(desc(value)) %>%
top_n(3) %>%
ungroup() %>%
select(code_name)
top_bridge <- freq_job_survey3 %>%
ungroup() %>%
subset(code_name %in% top_survey$code_name) %>%
filter(bridge_barr == "Bridge") %>%
pivot_wider(names_from = code_name, values_from = value) %>%
select(-bridge_barr) %>%
mutate_all(~replace_na(., 0))
top_barrier <- freq_job_survey3 %>%
ungroup() %>%
subset(code_name %in% top_survey$code_name) %>%
filter(bridge_barr == "Barrier") %>%
pivot_wider(names_from = code_name, values_from = value) %>%
select(-bridge_barr) %>%
mutate_all(~replace_na(., 0))
ggradar::ggradar(top_bridge,
values.radar = c(0, 2, 4),
background.circle.colour = "white",
axis.line.colour = "gray60",
gridline.min.colour = "gray60",
gridline.mid.colour = "gray60",
gridline.max.colour = "gray60",
group.colours = c("#F29325", "#007172"),#007172
legend.position = "bottom",
fill = TRUE,
axis.label.size = 3)
View(freq_job_survey3)
View(freq_job_survey)
View(freq_job_survey2)
View(freq_job_survey)
#radar plots
freq_job_survey3 <- freq_job_survey %>%
# group_by(fish_ship, bridge_barr) %>%
# mutate(n_total = sum(total)) %>%
# ungroup() %>%
# group_by(fish_ship, bridge_barr, code_name) %>%
# mutate(n_subtotal = sum(total)) %>%
# reframe(value = (n_subtotal/n_total)*100) %>%
# ungroup() %>%
mutate(id = paste(fish_ship, bridge_barr, code_name))
View(freq_job_survey3)
#radar plots
freq_job_survey3 <- freq_job_survey %>%
# group_by(fish_ship, bridge_barr) %>%
# mutate(n_total = sum(total)) %>%
# ungroup() %>%
# group_by(fish_ship, bridge_barr, code_name) %>%
# mutate(n_subtotal = sum(total)) %>%
# reframe(value = (n_subtotal/n_total)*100) %>%
# ungroup() %>%
mutate(id = paste(fish_ship, bridge_barr, code_name)) %>%
distinct(id, .keep_all = TRUE) %>%
select(-c(id)) %>%
group_by(fish_ship, bridge_barr, code_name) %>%
summarise(value = sum(total))
#radar plots
freq_job_survey3 <- freq_job_survey %>%
# group_by(fish_ship, bridge_barr) %>%
# mutate(n_total = sum(total)) %>%
# ungroup() %>%
# group_by(fish_ship, bridge_barr, code_name) %>%
# mutate(n_subtotal = sum(total)) %>%
# reframe(value = (n_subtotal/n_total)*100) %>%
# ungroup() %>%
mutate(id = paste(fish_ship, bridge_barr, code_name)) %>%
distinct(id, .keep_all = TRUE) %>%
select(-c(id))
#radar plots
freq_job_survey3 <- freq_job_survey %>%
# group_by(fish_ship, bridge_barr) %>%
# mutate(n_total = sum(total)) %>%
# ungroup() %>%
# group_by(fish_ship, bridge_barr, code_name) %>%
# mutate(n_subtotal = sum(total)) %>%
# reframe(value = (n_subtotal/n_total)*100) %>%
# ungroup() %>%
#mutate(id = paste(fish_ship, bridge_barr, code_name)) %>%
#distinct(id, .keep_all = TRUE) %>%
#select(-c(id))
group_by(fish_ship, bridge_barr, code_name) %>%
summarise(value = sum(total))
#radar plots
freq_job_survey3 <- freq_job_survey %>%
# group_by(fish_ship, bridge_barr) %>%
# mutate(n_total = sum(total)) %>%
# ungroup() %>%
# group_by(fish_ship, bridge_barr, code_name) %>%
# mutate(n_subtotal = sum(total)) %>%
# reframe(value = (n_subtotal/n_total)*100) %>%
# ungroup() %>%
#mutate(id = paste(fish_ship, bridge_barr, code_name)) %>%
#distinct(id, .keep_all = TRUE) %>%
#select(-c(id))
group_by(fish_ship, bridge_barr, code_name) %>%
summarise(value = sum(total))
top_survey <- freq_job_survey3 %>%
group_by(fish_ship, bridge_barr) %>%
arrange(desc(value)) %>%
top_n(3) %>%
ungroup() %>%
select(code_name)
top_bridge <- freq_job_survey3 %>%
ungroup() %>%
subset(code_name %in% top_survey$code_name) %>%
filter(bridge_barr == "Bridge") %>%
pivot_wider(names_from = code_name, values_from = value) %>%
select(-bridge_barr) %>%
mutate_all(~replace_na(., 0))
top_barrier <- freq_job_survey3 %>%
ungroup() %>%
subset(code_name %in% top_survey$code_name) %>%
filter(bridge_barr == "Barrier") %>%
pivot_wider(names_from = code_name, values_from = value) %>%
select(-bridge_barr) %>%
mutate_all(~replace_na(., 0))
ggradar::ggradar(top_bridge,
values.radar = c(0, 2, 4),
background.circle.colour = "white",
axis.line.colour = "gray60",
gridline.min.colour = "gray60",
gridline.mid.colour = "gray60",
gridline.max.colour = "gray60",
group.colours = c("#F29325", "#007172"),#007172
legend.position = "bottom",
fill = TRUE,
axis.label.size = 3)
View(top_bridge)
ggradar::ggradar(top_bridge,
values.radar = c(0, 5, 10),
background.circle.colour = "white",
axis.line.colour = "gray60",
gridline.min.colour = "gray60",
gridline.mid.colour = "gray60",
gridline.max.colour = "gray60",
group.colours = c("#F29325", "#007172"),#007172
legend.position = "bottom",
fill = TRUE,
axis.label.size = 3)
ggradar::ggradar(top_barrier,
values.radar = c(0, 3, 6),
background.circle.colour = "white",
axis.line.colour = "gray60",
gridline.min.colour = "gray60",
gridline.mid.colour = "gray60",
gridline.max.colour = "gray60",
group.colours = c("#F29325", "#007172"),#007172
legend.position = "none",
fill = TRUE,
axis.label.size = 3)
ggradar::ggradar(top_bridge,
values.radar = c(0, 5, 10),
background.circle.colour = "white",
axis.line.colour = "gray60",
gridline.min.colour = "gray60",
gridline.mid.colour = "gray60",
gridline.max.colour = "gray60",
group.colours = c("#F29325", "#007172"),#007172
legend.position = "bottom",
fill = TRUE,
axis.label.size = 3)
ggsave("figures/ms_figs/industry/radar_br_survey.png", height = 8, width = 8, units = c("in"))
ggradar::ggradar(top_bridge,
values.radar = c(0, 5, 10),
background.circle.colour = "white",
axis.line.colour = "gray60",
gridline.min.colour = "gray60",
gridline.mid.colour = "gray60",
gridline.max.colour = "gray60",
group.colours = c("#F29325", "lightskyblue1"),#007172
legend.position = "bottom",
fill = TRUE,
axis.label.size = 3)
ggsave("figures/slides_svg/radar_br.svg", height = 8, width = 8, units = c("in"))
ggradar::ggradar(top_barrier,
values.radar = c(0, 3, 6),
background.circle.colour = "white",
axis.line.colour = "gray60",
gridline.min.colour = "gray60",
gridline.mid.colour = "gray60",
gridline.max.colour = "gray60",
group.colours = c("#F29325", "#007172"),#007172
legend.position = "none",
fill = TRUE,
axis.label.size = 3)
ggsave("figures/ms_figs/industry/radar_ba_survey.png", height = 8, width = 8, units = c("in"))
ggradar::ggradar(top_barrier,
values.radar = c(0, 3, 6),
background.circle.colour = "white",
axis.line.colour = "gray60",
gridline.min.colour = "gray60",
gridline.mid.colour = "gray60",
gridline.max.colour = "gray60",
group.colours = c("#F29325", "lightskyblue1"),#007172
legend.position = "none",
fill = TRUE,
axis.label.size = 3)
ggsave("figures/slides_svg/radar_ba.svg", height = 8, width = 8, units = c("in"))
#radar plots
freq_job_lit3 <- freq_job_lit %>%
# group_by(fish_ship, bridge_barr) %>%
# mutate(n_total = sum(total)) %>%
# ungroup() %>%
# group_by(fish_ship, bridge_barr, code_name) %>%
# mutate(n_subtotal = sum(total)) %>%
# reframe(value = (n_subtotal/n_total)*100) %>%
# ungroup() %>%
# mutate(id = paste(fish_ship, bridge_barr, code_name)) %>%
# distinct(id, .keep_all = TRUE) %>%
# select(-c(id)) %>%
group_by(fish_ship, bridge_barr, code_name) %>%
summarise(value = sum(total))
top_lit <- freq_job_lit3 %>%
group_by(fish_ship, bridge_barr) %>%
arrange(desc(value)) %>%
top_n(3) %>%
ungroup() %>%
select(code_name)
top_bridge <- freq_job_lit3 %>%
subset(code_name %in% top_lit$code_name) %>%
filter(bridge_barr == "Bridge") %>%
pivot_wider(names_from = code_name, values_from = value) %>%
ungroup() %>%
select(-bridge_barr) %>%
mutate_all(~replace_na(., 0))
top_barrier <- freq_job_lit3 %>%
subset(code_name %in% top_lit$code_name) %>%
filter(bridge_barr == "Barrier") %>%
pivot_wider(names_from = code_name, values_from = value) %>%
ungroup() %>%
select(-bridge_barr) %>%
mutate_all(~replace_na(., 0))
ggradar::ggradar(top_bridge,
values.radar = c(0, 15, 30),
background.circle.colour = "white",
axis.line.colour = "gray60",
gridline.min.colour = "gray60",
gridline.mid.colour = "gray60",
gridline.max.colour = "gray60",
group.colours = c("#F29325", "#007172"),
legend.position = "bottom",
fill = TRUE,
axis.label.size = 3)
ggsave("figures/ms_figs/industry/radar_br_lit.png", height = 8, width = 8, units = c("in"))
ggradar::ggradar(top_barrier,
values.radar = c(0, 15, 30),
background.circle.colour = "white",
axis.line.colour = "gray60",
gridline.min.colour = "gray60",
gridline.mid.colour = "gray60",
gridline.max.colour = "gray60",
group.colours = c("#F29325", "#007172"),
legend.position = "none",
fill = TRUE,
axis.label.size = 3)
ggradar::ggradar(top_bridge,
values.radar = c(0, 20, 40),
background.circle.colour = "white",
axis.line.colour = "gray60",
gridline.min.colour = "gray60",
gridline.mid.colour = "gray60",
gridline.max.colour = "gray60",
group.colours = c("#F29325", "#007172"),
legend.position = "bottom",
fill = TRUE,
axis.label.size = 3)
ggsave("figures/ms_figs/industry/radar_br_lit.png", height = 8, width = 8, units = c("in"))
ggradar::ggradar(top_barrier,
values.radar = c(0, 15, 30),
background.circle.colour = "white",
axis.line.colour = "gray60",
gridline.min.colour = "gray60",
gridline.mid.colour = "gray60",
gridline.max.colour = "gray60",
group.colours = c("#F29325", "#007172"),
legend.position = "none",
fill = TRUE,
axis.label.size = 3)
ggradar::ggradar(top_barrier,
values.radar = c(0, 15, 35),
background.circle.colour = "white",
axis.line.colour = "gray60",
gridline.min.colour = "gray60",
gridline.mid.colour = "gray60",
gridline.max.colour = "gray60",
group.colours = c("#F29325", "#007172"),
legend.position = "none",
fill = TRUE,
axis.label.size = 3)
ggsave("figures/ms_figs/industry/radar_ba_lit.png", height = 8, width = 8, units = c("in"))
