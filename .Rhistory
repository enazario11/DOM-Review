#   group_by(category)
#
# my_labs <- c("0", "25", "50", "75")
# data_freq$br_ba <- factor(as.factor(data_freq$br_ba), levels = c("Data bridge", "Data barrier"))
#
# data_bar <- ggplot(data_freq) +
#   geom_bar(aes(x = freq, y = reorder(category, freq), fill = br_ba), width = 0.6, stat = "identity")+
#   scale_x_continuous(position = "top",
#                      limits = c(0,0.9),
#                      expand = c(0,0),
#                      breaks = c(0, 0.25, 0.5, 0.75),
#                      labels = my_labs)+
#   scale_y_discrete(expand = expansion(add = c(0,0))) +
#   tidyquant::theme_tq() +
#   theme(
#     # Set background color to white
#     panel.background = element_rect(fill = "white"),
#     # Set the color and the width of the grid lines for the horizontal axis
#     panel.grid.major.x = element_line(color = "#A8BAC4", size = 0.3),
#     # Remove tick marks by setting their length to 0
#     axis.ticks.length = unit(0, "mm"),
#     # Remove the title for both axes
#     axis.title = element_blank(),
#     # Only left line of the vertical axis is painted in black
#     axis.line.y.left = element_line(color = "black"),
#     # But customize labels for the horizontal axis
#     axis.text.x = element_text(family = "Econ Sans Cnd", size = 16),
#     axis.text.y = element_text(family = "Econ Sans Cnd", size = 16),
#     legend.position = "none",
#     strip.text = element_text(size = 16)) +
#   geom_text(aes(x = freq, y = category, label = percent_label),
#     hjust = 0,
#     nudge_x = -0.0001,
#     colour = "black",
#     family = "Econ Sans Cnd",
#     size = 6)+
#   labs(subtitle = "Percent of sum from all articles (%)") +
#   theme(plot.subtitle = element_text(
#       family = "Econ Sans Cnd",
#       size = 20)
#   ) +
#   scale_fill_manual(values = c("goldenrod", "lightskyblue3"))+
#   facet_wrap(~br_ba, scales = "free", nrow = 2)
# data_bar
# Chunk 29
#| echo: false
#| message: false
#| warning: false
#| fig-width: 12
#| fig-height: 10
#| fig-align: center
#calculate frequency of bridges vs. barriers being mentioned in articles -- need to add biotic and abiotic indicators cols
# ecol_freq <- codes_vars2 %>%
#   subset(select = c("Expected climate change induced range shifts", "Distinct habitat preferences", "Highly mobile target species", "Life history information available for target species", "Fine scale management appropriate for target species", "Biotic indicators of target species presence", "Abiotic indicators of target species presence","Need for multispecies management")) %>%
#   gather(category, pres_abs, 1:8) %>%
#   mutate(br_ba = ifelse(category == "Need for multispecies management", "Ecological barrier", "Ecological bridge")) %>%
#   group_by(category, br_ba)  %>%
#   summarise(n = sum(pres_abs),
#             freq = (n/118)) %>%
#   mutate(percent_label = scales::percent(freq, accuracy = 2)) %>%
#   group_by(category)
#
# ecol_freq$category <- replace(ecol_freq$category, ecol_freq$category == "Fine scale management appropriate for target species", "Fine-scale management appropriate for target species")
# ecol_freq$br_ba <- factor(as.factor(ecol_freq$br_ba), levels = c("Ecological bridge", "Ecological barrier"))
#
# ecol_bar <- ggplot(ecol_freq) +
#   geom_bar(aes(x = freq, y = reorder(category, freq), fill = br_ba), width = 0.6, stat = "identity")+
#   scale_x_continuous(position = "top",
#                      limits = c(0,0.9),
#                      expand = c(0,0),
#                      breaks = c(0, 0.25, 0.5, 0.75),
#                      labels = my_labs)+
#   scale_y_discrete(expand = expansion(add = c(0,0))) +
#   tidyquant::theme_tq() +
#   theme(
#     # Set background color to white
#     panel.background = element_rect(fill = "white"),
#     # Set the color and the width of the grid lines for the horizontal axis
#     panel.grid.major.x = element_line(color = "#A8BAC4", size = 0.3),
#     # Remove tick marks by setting their length to 0
#     axis.ticks.length = unit(0, "mm"),
#     # Remove the title for both axes
#     axis.title = element_blank(),
#     # Only left line of the vertical axis is painted in black
#     axis.line.y.left = element_line(color = "black"),
#     # But customize labels for the horizontal axis
#     axis.text.x = element_text(family = "Econ Sans Cnd", size = 16),
#     axis.text.y = element_text(family = "Econ Sans Cnd", size = 16),
#     legend.position = "none",
#     strip.text = element_text(size = 16)) +
#   geom_text(aes(x = freq, y = category, label = percent_label),
#     hjust = 0,
#     nudge_x = -0.0001,
#     colour = "black",
#     family = "Econ Sans Cnd",
#     size = 6)+
#   labs(subtitle = "Percent of sum from all articles (%)") +
#   theme(plot.subtitle = element_text(
#       family = "Econ Sans Cnd",
#       size = 20)
#   ) +
#   scale_fill_manual(values = c("goldenrod", "lightskyblue3"))+
#   facet_wrap(~br_ba, scales = "free", nrow = 2)
#
# ecol_bar
# Chunk 30
#| echo: false
#| message: false
#| warning: false
#| fig-width: 12
#| fig-height: 10
#| fig-align: center
#calculate frequency of bridges vs. barriers being mentioned in articles -- need to add biotic and abiotic indicators cols
# soc_freq <- codes_vars2 %>%
#   subset(select = c("Resource availability", "Pre existing conditions", "Adoption incentives", "Feasibility", "Co management and communication", "Indirect socioeconomic consequences", "Discontinuity", "Cost", "Poor communication and outreach", "Poor program implementation")) %>%
#   gather(category, pres_abs, 1:9) %>%
#   mutate(br_ba = ifelse(category == "Indirect socioeconomic consequences" | category == "Discontinuity" | category == "Poor communication and outreach" | category == "Poor program implementation" | category == "Cost", "Social barrier", "Social bridge")) %>%
#   group_by(category, br_ba)  %>%
#   summarise(n = sum(pres_abs),
#             freq = (n/118)) %>%
#   mutate(percent_label = scales::percent(freq, accuracy = 2)) %>%
#   group_by(category)
#
# soc_freq$category <- replace(soc_freq$category, soc_freq$category == "Co management and communication", "Co-management and communication")
# soc_freq$category <- replace(soc_freq$category, soc_freq$category == "Pre existing conditions", "Pre-existing conditions")
# soc_freq$br_ba <- factor(as.factor(soc_freq$br_ba), levels = c("Social bridge", "Social barrier"))
#
#
# soc_bar <- ggplot(soc_freq) +
#   geom_bar(aes(x = freq, y = reorder(category, freq), fill = br_ba), width = 0.6, stat = "identity")+
#   scale_x_continuous(position = "top",
#                      limits = c(0,0.9),
#                      expand = c(0,0),
#                      breaks = c(0, 0.25, 0.5, 0.75),
#                      labels = my_labs)+
#   scale_y_discrete(expand = expansion(add = c(0,0))) +
#   tidyquant::theme_tq() +
#   theme(
#     # Set background color to white
#     panel.background = element_rect(fill = "white"),
#     # Set the color and the width of the grid lines for the horizontal axis
#     panel.grid.major.x = element_line(color = "#A8BAC4", size = 0.3),
#     # Remove tick marks by setting their length to 0
#     axis.ticks.length = unit(0, "mm"),
#     # Remove the title for both axes
#     axis.title = element_blank(),
#     # Only left line of the vertical axis is painted in black
#     axis.line.y.left = element_line(color = "black"),
#     # But customize labels for the horizontal axis
#     axis.text.x = element_text(family = "Econ Sans Cnd", size = 16),
#     axis.text.y = element_text(family = "Econ Sans Cnd", size = 16),
#     legend.position = "none",
#     strip.text = element_text(size = 16)) +
#   geom_text(aes(x = freq, y = category, label = percent_label),
#     hjust = 0,
#     nudge_x = -0.0001,
#     colour = "black",
#     family = "Econ Sans Cnd",
#     size = 6)+
#   labs(subtitle = "Percent of sum from all articles (%)") +
#   theme(plot.subtitle = element_text(
#       family = "Econ Sans Cnd",
#       size = 20)
#   ) +
#   scale_fill_manual(values = c("goldenrod", "lightskyblue3"))+
#   facet_wrap(~br_ba, scales = "free", nrow = 2)
# soc_bar
# Chunk 31
#| echo: false
#| message: false
#| warning: false
#| fig-width: 10
#| fig-height: 7
#| fig-align: center
code_sum_s <- code_freq_s %>%
group_by(bridge_barr) %>%
mutate(n_total = sum(total)) %>%
ungroup() %>%
group_by(code_cat) %>%
mutate(n_subtotal = sum(total)) %>%
summarise(value = n_subtotal/n_total) %>%
rename("br_ba" = code_cat) %>%
mutate(percent_label = scales::percent(value, accuracy = 1),
percent = if_else(br_ba == "Data barrier" | br_ba == "Ecological barrier" | br_ba == "Social barrier" | br_ba == "Regulation barrier", value, -value),
code_level = if_else(br_ba %in% c("Ecological barrier", "Ecological bridge"), "Ecological bridge or barrier",
if_else(br_ba %in% c("Data barrier", "Data bridge"), "Data bridge or barrier",
if_else(br_ba %in% c("Regulation barrier", "Regulation bridge"), "Regulatory bridge or barrier",
if_else(br_ba %in% c("Social barrier", "Social bridge"), "Social bridge or barrier", NA)))),
code_brba = if_else(br_ba %in% c("Data bridge", "Ecological bridge", "Social bridge", "Regulation bridge"), "bridge", "barrier")) %>%
group_by(code_level) %>%
distinct()
code_sum_s$code_level <- factor(code_sum_s$code_level, levels = c("Ecological bridge or barrier", "Data bridge or barrier","Regulatory bridge or barrier", "Social bridge or barrier"))
code_sum_s$code_brba <- factor(code_sum_s$code_brba, levels = c("bridge", "barrier"))
ggplot(code_sum_s, aes(x = code_level,
y = percent,
fill = code_brba)) +
geom_col(width = 0.7) +
geom_text(aes(label = percent_label),
position = position_stack(vjust = 0.65),
color = "black",
size = 5) +
ylim(-0.7,0.7)+
coord_flip() +
scale_x_discrete() +
scale_fill_manual(values = c("goldenrod", "lightskyblue3"), labels = c("Bridge frequency", "Barrier frequency")) +
theme_minimal() +
theme(axis.title.y = element_blank(),
axis.title.x = element_blank(),
axis.text.x =element_blank(),
axis.text.y = element_text(size = 20, color = "black"),
panel.grid = element_blank(),
legend.position = c(-0.17, 0.99),
legend.text = element_text(size = 16, color = "black"),
strip.text.y.right = element_text(angle = 0, size = 16)) +
geom_hline(yintercept = 0.0, linewidth = 1) +
labs(fill = "")+
guides(fill = guide_legend(nrow = 1))
# Chunk 32
#| echo: false
#| message: false
#| warning: false
#| fig-width: 12
#| fig-height: 10
#| fig-align: center
# data_freq <- code_freq %>%
#   filter(code_cat == "Data bridge" | code_cat == "Data barrier")
#
# data_sum <- data_freq %>%
#   group_by(bridge_barr) %>%
#   mutate(n_total = sum(total)) %>%
#   ungroup() %>%
#   group_by(code_name) %>%
#   summarise(value = total/n_total) %>%
#   mutate(code_cat = ifelse(code_name == "Gaps and inaccuracy" | code_name == "Management scales do not align with system needs" | code_name == "Model abuse" | code_name == "Climate change adding uncertainty to target species habitat use", "Data barrier", "Data bridge")) %>%
#   mutate(percent_label = scales::percent(value, accuracy = 2))
#
# my_labs <- c("0", "25", "50", "75")
# data_sum$code_cat <- factor(as.factor(data_sum$code_cat), levels = c("Data bridge", "Data barrier"))
#
# ggplot(data_sum) +
#   geom_bar(aes(x = value, y = reorder(code_name, value), fill = code_cat), width = 0.6, stat = "identity")+
#   scale_x_continuous(position = "top",
#                      limits = c(0,0.9),
#                      expand = c(0,0),
#                      breaks = c(0, 0.25, 0.5, 0.75),
#                      labels = my_labs)+
#   scale_y_discrete(expand = expansion(add = c(0,0))) +
#   tidyquant::theme_tq() +
#   theme(
#     # Set background color to white
#     panel.background = element_rect(fill = "white"),
#     # Set the color and the width of the grid lines for the horizontal axis
#     panel.grid.major.x = element_line(color = "#A8BAC4", size = 0.3),
#     # Remove tick marks by setting their length to 0
#     axis.ticks.length = unit(0, "mm"),
#     # Remove the title for both axes
#     axis.title = element_blank(),
#     # Only left line of the vertical axis is painted in black
#     axis.line.y.left = element_line(color = "black"),
#     # But customize labels for the horizontal axis
#     axis.text.x = element_text(family = "Econ Sans Cnd", size = 16),
#     axis.text.y = element_text(family = "Econ Sans Cnd", size = 16),
#     legend.position = "none",
#     strip.text = element_text(size = 16)) +
#   geom_text(aes(x = value, y = code_name, label = percent_label),
#     hjust = 0,
#     nudge_x = -0.0001,
#     colour = "black",
#     family = "Econ Sans Cnd",
#     size = 6)+
#   labs(subtitle = "Percent from all data bridges or barriers (%)") +
#   theme(plot.subtitle = element_text(
#       family = "Econ Sans Cnd",
#       size = 20)
#   ) +
#   scale_fill_manual(values = c("goldenrod", "lightskyblue3"))+
#   facet_wrap(~code_cat, scales = "free", nrow = 2)
# Chunk 33
#| echo: false
#| message: false
#| warning: false
#| fig-width: 12
#| fig-height: 10
#| fig-align: center
# eco_freq <- code_freq %>%
#   filter(code_cat == "Ecological bridge" | code_cat == "Ecological barrier")
#
# eco_sum <- eco_freq %>%
#   group_by(bridge_barr) %>%
#   mutate(n_total = sum(total)) %>%
#   ungroup() %>%
#   group_by(code_name) %>%
#   summarise(value = total/n_total) %>%
#   mutate(code_cat = ifelse(code_name == "Need for multispecies management", "Ecological barrier", "Ecological bridge")) %>%
#   mutate(percent_label = scales::percent(value, accuracy = 2))
#
# eco_sum$code_cat <- factor(as.factor(eco_sum$code_cat), levels = c("Ecological bridge", "Ecological barrier"))
# my_labs2 <- c("0", "30", "50", "75", "100")
#
# ggplot(eco_sum) +
#   geom_bar(aes(x = value, y = reorder(code_name, value), fill = code_cat), width = 0.6, stat = "identity")+
#   scale_x_continuous(position = "top",
#                      limits = c(0,1.1),
#                      expand = c(0,0),
#                      breaks = c(0, 0.3, 0.5, 0.75, 1),
#                      labels = my_labs2)+
#   scale_y_discrete(expand = expansion(add = c(0,0))) +
#   tidyquant::theme_tq() +
#   theme(
#     # Set background color to white
#     panel.background = element_rect(fill = "white"),
#     # Set the color and the width of the grid lines for the horizontal axis
#     panel.grid.major.x = element_line(color = "#A8BAC4", size = 0.3),
#     # Remove tick marks by setting their length to 0
#     axis.ticks.length = unit(0, "mm"),
#     # Remove the title for both axes
#     axis.title = element_blank(),
#     # Only left line of the vertical axis is painted in black
#     axis.line.y.left = element_line(color = "black"),
#     # But customize labels for the horizontal axis
#     axis.text.x = element_text(family = "Econ Sans Cnd", size = 16),
#     axis.text.y = element_text(family = "Econ Sans Cnd", size = 16),
#     legend.position = "none",
#     strip.text = element_text(size = 16)) +
#   geom_text(aes(x = value, y = code_name, label = percent_label),
#     hjust = 0,
#     nudge_x = -0.0001,
#     colour = "black",
#     family = "Econ Sans Cnd",
#     size = 6)+
#   labs(subtitle = "Percent from all ecological bridges or barriers (%)") +
#   theme(plot.subtitle = element_text(
#       family = "Econ Sans Cnd",
#       size = 20)
#   ) +
#   scale_fill_manual(values = c("goldenrod", "lightskyblue3"))+
#   facet_wrap(~code_cat, scales = "free", nrow = 2)
# Chunk 34
#| echo: false
#| message: false
#| warning: false
#| fig-width: 12
#| fig-height: 10
#| fig-align: center
# soc_freq <- code_freq %>%
#   filter(code_cat == "Social bridge" | code_cat == "Social barrier")
#
# soc_sum <- soc_freq %>%
#   group_by(bridge_barr) %>%
#   mutate(n_total = sum(total)) %>%
#   ungroup() %>%
#   group_by(code_name) %>%
#   summarise(value = total/n_total) %>%
#   mutate(code_cat = ifelse(code_name == "Cost" | code_name == "Indirect socioeconomic consequences" | code_name == "Discontinuity" | code_name == "Poor communication and outreach" | code_name == "Poor program implementation", "Social barrier", "Social bridge")) %>%
#   mutate(percent_label = scales::percent(value, accuracy = 2))
#
# soc_sum$code_cat <- factor(as.factor(soc_sum$code_cat), levels = c("Social bridge", "Social barrier"))
# my_labs2 <- c("0", "30")
#
# ggplot(soc_sum) +
#   geom_bar(aes(x = value, y = reorder(code_name, value), fill = code_cat), width = 0.6, stat = "identity")+
#   scale_x_continuous(position = "top",
#                      limits = c(0,1),
#                      expand = c(0,0),
#                      breaks = c(0,0.25, 0.5, 0.75),
#                      labels = my_labs)+
#   scale_y_discrete(expand = expansion(add = c(0,0))) +
#   tidyquant::theme_tq() +
#   theme(
#     # Set background color to white
#     panel.background = element_rect(fill = "white"),
#     # Set the color and the width of the grid lines for the horizontal axis
#     panel.grid.major.x = element_line(color = "#A8BAC4", size = 0.3),
#     # Remove tick marks by setting their length to 0
#     axis.ticks.length = unit(0, "mm"),
#     # Remove the title for both axes
#     axis.title = element_blank(),
#     # Only left line of the vertical axis is painted in black
#     axis.line.y.left = element_line(color = "black"),
#     # But customize labels for the horizontal axis
#     axis.text.x = element_text(family = "Econ Sans Cnd", size = 16),
#     axis.text.y = element_text(family = "Econ Sans Cnd", size = 16),
#     legend.position = "none",
#     strip.text = element_text(size = 16)) +
#   geom_text(aes(x = value, y = code_name, label = percent_label),
#     hjust = 0,
#     nudge_x = -0.0001,
#     colour = "black",
#     family = "Econ Sans Cnd",
#     size = 6)+
#   labs(subtitle = "Percent from all social bridges or barriers (%)") +
#   theme(plot.subtitle = element_text(
#       family = "Econ Sans Cnd",
#       size = 20)
#   ) +
#   scale_fill_manual(values = c("goldenrod", "lightskyblue3"))+
#   facet_wrap(~code_cat, scales = "free", nrow = 2)
#| echo: false
#| message: false
#| warning: false
#| fig-width: 15
#| fig-height: 15
#calc props for sankey_df csv (fine scale codes are raw totals from code_freq file)
sum_codes <- sum(code_freq$total) #710 codes
code_freq %>%
group_by(bridge_barr) %>%
summarise(totals = sum(total))
code_freq %>%
group_by(code_cat) %>%
summarise(totals = sum(total))
#load sankey df
sankey_df <- read.csv(here("data/sankey_freq.csv"))
sankey_df$code_cat <- factor(sankey_df$code_cat, levels = c("Ecological barrier", "Data barrier", "Social barrier", "Data bridge", "Ecological bridge", "Social bridge"))
sankey_df <- sankey_df %>%
mutate(sum_codes = sum(total),
perc_codes = (total/sum_codes)*100,
round_perc = round(perc_codes, 0))
ggplot(data = sankey_df,
aes(axis1 = fct_reorder(bridge_barr, -perc_codes), axis2 = fct_reorder(code_cat, -perc_codes), axis3 = fct_reorder(code_name, -perc_codes), y = perc_codes)) +
geom_alluvium(aes(fill = code_cat, color = code_cat), size = 1.5, alpha = 0.8, width = 0.05) +
geom_stratum(size = 1.5, color = "grey60",
width = c(1/12,1/12,1/3,1/3,1/3,1/3,1/3,1/3,1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18, 1/18)) +
geom_text(stat = "stratum",
aes(label = after_stat(stratum)),
angle = c(90,90,0,0,0,0,0,0,0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
size = c(7,7,5,5,5,5,5,5,4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4),
nudge_y = c(0,0,0,0,0,0,0,0,0, #poor communication and outreach
0.5, #model abuse
1, #Discontinuity
1.5, #indirect socioeconomic consequences
1.8, #target species is a prey specialist
2, #resource availability
2, #climate change adding uncertainty
2, #data transparency
2, #need for multi-species management
2, #distinct habitat preference
2, #fine scale management
1.5, #management scale system needs
2, #management scale aligns
0.8, #feasibility
0,0,0,0,0,0,0,0,0,0,0,0,0,0),
nudge_x = c(-0.01,-0.01,0,0,0,0,0,0,0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05,   0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05),
hjust = c(0.5, 0.5, 0.5,0.5,0.5,0.5,0.5,0.5,0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)) +
xlim(0.89, 3.6) +
ylim(-1, 100)+
labs(y = "Percent of all codes (%)", x = "") +
theme_minimal()+
theme(axis.text.y = element_text(size = 14),
axis.title.y = element_text(size = 16),
legend.position = "none",
axis.text.x = element_blank(),
panel.grid.major = element_blank())+
scale_fill_manual(values = c("#F48136", "#F46036", "#F44336", "#CFE2F3", "#C5E0B4", "#45818E"))+
scale_color_manual(values = c("#F48136", "#F46036", "#F44336", "#CFE2F3", "#C5E0B4", "#45818E"))
head(code_freq_s)
#| include: false
#| echo: false
#| warning: false
#| message: false
library(tidyverse)
library(tidyquant)
library(here)
library(kableExtra)
library(waffle)
library(extrafont)
library(hrbrthemes)
library(patchwork)
library(ggalluvial)
library(ggrepel)
library(forcats)
#lit data
code_freq <- read.csv(here("data/code_freq_lit.csv"))
codes_vars <- read.csv(here("data/code_w_vars_lit.csv"))
keywords <- read.csv(here("data/keywords.csv"))
code_rel <- read.csv(here("data/code_rel.csv"))
#survey data
code_vars_s <- read.csv(here("data/surveys/code_w_vars.csv"))
code_freq_s <- read.csv(here("data/surveys/code_freq.csv"))
#change codes to new names
#code_freq
#sp br
code_freq$code_cat <- replace(code_freq$code_cat, code_freq$code_cat == "Species bridge", "Ecological bridge")
code_freq$code_cat <- replace(code_freq$code_cat, code_freq$code_cat == "Species barrier", "Ecological barrier")
code_freq$code_name <- replace(code_freq$code_name, code_freq$code_name == "Limited Prey Resources", "Target species is a prey specialist")
code_freq$code_name <- replace(code_freq$code_name, code_freq$code_name == "Fine Scale management required", "Fine-scale management appropriate for target species")
code_freq$code_name <- replace(code_freq$code_name, code_freq$code_name == "Migratory and/or dynamic range", "Highly mobile target species")
code_freq$code_name[code_freq$code_cat == "Ecological bridge" & code_freq$code_name == "Climate change"] <- "Expected climate change induced range shifts"
code_freq$code_name <- replace(code_freq$code_name, code_freq$code_name == "Known Species Nat History", "Life history information available for target species")
#data br
code_freq$code_name <- replace(code_freq$code_name, code_freq$code_name == "Advances in Tech", "Access to advanced technology and techniques")
code_freq$code_name <- replace(code_freq$code_name, code_freq$code_name == "Scale appropriate for system", "Management scale aligns with system needs")
code_freq$code_name <- replace(code_freq$code_name, code_freq$code_name == "Availability for species", "Target species data availability")
code_freq$code_name <- replace(code_freq$code_name, code_freq$code_name == "Stakeholder/Anthropogenic Data Access", "Resource use data availability")
code_freq$code_name <- replace(code_freq$code_name, code_freq$code_name == "Enviro Access", "Abiotic data availability")
#soc br
code_freq$code_name <- replace(code_freq$code_name, code_freq$code_name == "Open Communication or Co-Mngmt in place", "Co-management and communication")
code_freq$code_name <- replace(code_freq$code_name, code_freq$code_name == "Pre-existing regulation & management institutions", "Pre-existing regulation and management institutions")
code_freq$code_name <- replace(code_freq$code_name, code_freq$code_name == "DOM implementation feasible (Socio-econ)", "Feasibility")
code_freq$code_name <- replace(code_freq$code_name, code_freq$code_name == "Resource Availability (economical)", "Resource availability")
#sp ba
code_freq$code_cat[code_freq$code_name == "Model Abuse"] <- "Data barrier"
code_freq$code_name <- replace(code_freq$code_name, code_freq$code_name == "Switch to multi-species mngmnt", "Need for multispecies management")
#data ba
code_freq$code_name <- replace(code_freq$code_name, code_freq$code_name == "Gaps and Accuracy", "Gaps and inaccuracy")
code_freq$code_name <- replace(code_freq$code_name, code_freq$code_name == "Model Abuse", "Model abuse")
code_freq$code_name <- replace(code_freq$code_name, code_freq$code_name == "Mismatch in scale", "Management scales do not align with system needs")
code_freq$code_cat[code_freq$code_name == "Climate change"] <- "Data barrier"
code_freq$code_name <- replace(code_freq$code_name, code_freq$code_name == "Climate change", "Climate change adding uncertainty to target species habitat use")
#soc ba
code_freq$code_name <- replace(code_freq$code_name, code_freq$code_name == "Unintended consequences", "Indirect socioeconomic consequences")
code_freq$code_name <- replace(code_freq$code_name, code_freq$code_name == "Communication & Distribution", "Poor communication and outreach")
code_freq$code_name <- replace(code_freq$code_name, code_freq$code_name == "Recipient participation", "Poor program implementation")
